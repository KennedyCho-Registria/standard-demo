function setCookie(e,t,a,n){null==n&&(n="/");var i=new Date;i.setDate(i.getDate()+a),document.cookie=e+"="+escape(t)+(null==a?"":";expires="+i.toUTCString())+";path="+n}function getCookie(e){return 0<document.cookie.length&&(c_start=document.cookie.indexOf(e+"="),-1!=c_start)?(c_start=c_start+e.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""}function postwith(e,t){var n=$("<form action='"+e+"' method='POST'></form>");$.each(t,function(e,t){var a;"radio"==(t=$(t)).attr("type")?t.attr("checked")&&((a=t.clone(!0)).val(t.val()),a.attr("checked",!0),t.attr("checked",!0),a.appendTo(n)):((a=t.clone(!0)).val(t.val()),a.appendTo(n))}),n.appendTo("body"),n.submit(),n.remove()}function post_to_url(e,t,a){a=a||"post";var n=document.createElement("form");for(var i in n.setAttribute("method",a),n.setAttribute("action",e),t)if(t.hasOwnProperty(i)){var r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name",i),r.setAttribute("value",t[i]),n.appendChild(r)}document.body.appendChild(n),n.submit()}jQuery.fn.exists=function(){return 0<jQuery(this).length},jQuery.fn.registriaAutocomplete=function(e){var r,o={},a=$.extend(!0,{render:function(e){return e.label}},e||{}),t=$.extend(!0,{minLength:3,source:function(e,n){var i=e.term;if(i in o)n(o[i]);else if($.browser.msie&&window.XDomainRequest){var t=new XDomainRequest;t.open("get",a.url+"?"+$.param(e)),t.onload=function(){data=jQuery.parseJSON(t.responseText),o[i]=data,n(data)},t.send()}else r=$.getJSON(a.url,e,function(e,t,a){o[i]=e,a===r&&n(e)})}},a.options||{}),n=jQuery(this).autocomplete(t);return n.data("autocomplete")._renderItem=function(e,t){return $("<li></li>").data("item.autocomplete",t).append(a.render(t)).appendTo(e)},n},$.extend({getUrlVars:function(){for(var e,t=[],a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),n=0;n<a.length;n++)e=a[n].split("="),t.push(e[0]),t[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return t},getUrlVar:function(e){return $.getUrlVars()[e]},objectSize:function(e){var t,a=0;for(t in e)e.hasOwnProperty(t)&&a++;return a}}),$(document).ready(function(){$("#registria_form input:visible:first").focus(),$("#registria_form").validate({errorClass:"invalid"})}),$.validator.addMethod("regex",function(e,t,a){var n="";if("/"==a.charAt(0)){var i=a.split("/");i.shift(),n=i.pop(),a=i.join("/")}var r=new RegExp(a,n);return this.optional(t)||r.test(e)},"Please check your input."),jQuery.fn.toggleValidations=function(){var e=jQuery(this);0<e.rules().length?e.removeValidations():e.restoreValidations()},jQuery.fn.removeValidations=function(){var e=jQuery(this);e.data("stored_validations",e.rules()),e.rules("remove")},jQuery.fn.restoreValidations=function(){var e=jQuery(this),t=e.data("stored_validations");void 0!==t&&e.rules("add",t)},$(".registria_field:input[name*='product[model]']").exists()&&$(".registria_field:input[name*='product[model]']").rules("add",{required:!0}),$(".registria_field:input[name*='product[purchased_at]']").exists()&&$(".registria_field:input[name*='product[purchased_at]']").rules("add",{required:!0}),$(".registria_datepicker[name*='product[purchase_date]']").exists()&&($(".registria_datepicker[name*='product[purchase_date]']").datepicker($.extend(!0,{changeMonth:!0,maxDate:"+0d",yearRange:"1970:2018",changeYear:!0},$.datepicker.regional["en-us"]||$.datepicker.regional[""])),$(".registria_datepicker[name*='product[purchase_date]']").rules("add",{dpDate:!0})),$(".registria_field:input[name*='product[purchase_date]']").exists()&&$(".registria_field:input[name*='product[purchase_date]']").rules("add",{required:!0}),$(".registria_field:input[name*='user[phone]']").exists()&&$(".registria_field:input[name*='user[phone]']").rules("add",{required:!0}),$(".registria_field:input[name*='user[last_name]']").exists()&&$(".registria_field:input[name*='user[last_name]']").rules("add",{required:!0}),$(".registria_field:input[name*='user[first_name]']").exists()&&$(".registria_field:input[name*='user[first_name]']").rules("add",{required:!0}),$(".registria_field:input[name*='user[email]']").exists()&&$(".registria_field:input[name*='user[email]']").rules("add",{regex:"^[A-Za-z0-9!%&'*+/=?^_`{|}~-]+(?:.[A-Za-z0-9!%&'*+/=?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?$".replace(new RegExp("\\.","g"),"\\."),messages:{regex:"Invalid."}}),$(".registria_field:input[name*='user[email]']").exists()&&$(".registria_field:input[name*='user[email]']").rules("add",{required:!0}),$(".registria_field:input[name*='user[address_attributes][zip]']").exists()&&$(".registria_field:input[name*='user[address_attributes][zip]']").rules("add",{required:!0}),$(".registria_field:input[name*='user[address_attributes][state]']").exists()&&$(".registria_field:input[name*='user[address_attributes][state]']").rules("add",{required:!0}),$(".registria_field:input[name*='user[address_attributes][address1]']").exists()&&$(".registria_field:input[name*='user[address_attributes][address1]']").rules("add",{required:!0}),$(".registria_field:input[name*='user[password]']").exists()&&$(".registria_field:input[name*='user[password_confirmation]']").exists()&&$(".registria_field:input[name*='user[password_confirmation]']").rules("add",{equalTo:".registria_field:input[name*='user[password]']",messages:{equalTo:"confirmation does not match"}}),$(".registria_field:input[name*='user[email]']").exists()&&$(".registria_field:input[name*='user[confirm_email]']").exists()&&$(".registria_field:input[name*='user[confirm_email]']").rules("add",{equalTo:".registria_field:input[name*='user[email]']",messages:{equalTo:"confirmation does not match"}});var Registria=Registria||new function(){this.Cases={},this.Cases.view=function(e,t){$.ajax($.extend(!0,{type:"POST",url:"/services/cases/view",data:{case_id:e},dataType:"json"},t||{}))},this.Cases.accept=function(e,t){$.ajax($.extend(!0,{type:"POST",url:"/services/cases/accept",data:{case_id:e},dataType:"json"},t||{}))},this.Cases.decline=function(e,t){$.ajax($.extend(!0,{type:"POST",url:"/services/cases/decline",data:{case_id:e},dataType:"json"},t||{}))},this.Cases.close=function(e,t){$.ajax($.extend(!0,{type:"POST",url:"/services/cases/close",data:{case_id:e},dataType:"json"},t||{}))},this.Cases.comment=function(e,t,a){$.ajax($.extend(!0,{type:"POST",url:"/services/cases/comment",data:{case_id:e,comment:t},dataType:"json"},a||{}))},this.Locations={},this.Locations.remove=function(e,t){$.ajax($.extend(!0,{type:"DELETE",url:"/services/locations/"+e+"/delete",dataType:"json"},t||{}))},this.Addresses={},this.Addresses.index=function(e,t){$.ajax($.extend(!0,{type:"GET",url:"/services/users/"+e+"/addresses/",data:{},dataType:"json"},t||{}))},this.Addresses.show=function(e,t,a){$.ajax($.extend(!0,{type:"GET",url:"/services/users/"+e+"/addresses/"+t,data:{},dataType:"json"},a||{}))},this.Addresses.create=function(e,t,a){$.ajax($.extend(!0,{type:"POST",url:"/services/users/"+e+"/addresses/",data:t||{},dataType:"json"},a||{}))},this.Addresses.update=function(e,t,a,n){$.ajax($.extend(!0,{type:"PUT",url:"/services/users/"+e+"/addresses/"+t,data:a||{},dataType:"json"},n||{}))},this.Addresses.destroy=function(e,t,a){$.ajax($.extend(!0,{type:"DELETE",url:"/services/users/"+e+"/addresses/"+t,data:{},dataType:"json"},a||{}))},this.PaymentProfiles={},this.PaymentProfiles.index=function(e,t){$.ajax($.extend(!0,{type:"GET",url:"/services/users/"+e+"/payment_profiles/",data:{},dataType:"json"},t||{}))},this.PaymentProfiles.show=function(e,t,a){$.ajax($.extend(!0,{type:"GET",url:"/services/users/"+e+"/payment_profiles/"+t,data:{},dataType:"json"},a||{}))},this.PaymentProfiles.create=function(e,t,a){$.ajax($.extend(!0,{type:"POST",url:"/services/users/"+e+"/payment_profiles/",data:t,dataType:"json"},a||{}))},this.PaymentProfiles.update=function(e,t,a,n){$.ajax($.extend(!0,{type:"PUT",url:"/services/users/"+e+"/payment_profiles/"+t,data:a,dataType:"json"},n||{}))},this.PaymentProfiles.destroy=function(e,t,a){$.ajax($.extend(!0,{type:"DELETE",url:"/services/users/"+e+"/payment_profiles/"+t,data:{},dataType:"json"},a||{}))},this.ShoppingCart={},this.ShoppingCart.show=function(e){$.ajax($.extend(!0,{type:"GET",url:"/server_side_carts",data:{},dataType:"json"},e||{}))},this.ShoppingCart.empty=function(e){$.ajax($.extend(!0,{type:"PUT",url:"/server_side_carts/empty_cart",data:{},dataType:"json"},e||{}))},this.ShoppingCart.reset=function(e){$.ajax($.extend(!0,{type:"PUT",url:"/server_side_carts/reset_cart",data:{},dataType:"json"},e||{}))},this.ShoppingCart.line_remove=function(e,t){$.ajax($.extend(!0,{type:"PUT",url:"/server_side_carts/remove/"+e,data:{},dataType:"json"},t||{}))},this.ShoppingCart.line_inc=function(e,t,a){var n="/server_side_carts/increment",i=a;3<=arguments.length?n=n+"/"+e+"/"+t:2==arguments.length?"[object Object]"==Object.prototype.toString.call(t)?(n=n+"/"+e+"/1",i=t):n=n+"/"+e+"/"+t:n=n+"/"+e+"/1",$.ajax($.extend(!0,{type:"PUT",url:n,data:{},dataType:"json"},i||{}))},this.ShoppingCart.line_dec=function(e,t,a){var n="/server_side_carts/decrement",i=a;3<=arguments.length?n=n+"/"+e+"/"+t:2==arguments.length?"[object Object]"==Object.prototype.toString.call(t)?(n=n+"/"+e+"/1",i=t):n=n+"/"+e+"/"+t:n=n+"/"+e+"/1",$.ajax($.extend(!0,{type:"PUT",url:n,data:{},dataType:"json"},i||{}))},this.ShoppingCart.add=function(e,t,a,n,i){var r="/server_side_carts/sku/add",o=i;4<arguments.length?r=r+"/"+a+"/"+e+"/"+t+"/"+n:4==arguments.length?"[object Object]"==Object.prototype.toString.call(n)?(r=r+"/"+a+"/"+e+"/"+t,o=n):r=r+"/"+a+"/"+e+"/"+t+"/"+n:3==arguments.length?"[object Object]"==Object.prototype.toString.call(a)?(r=r+"/"+e+"/"+t,o=a):r=r+"/"+a+"/"+e+"/"+t:2==arguments.length?"[object Object]"==Object.prototype.toString.call(t)?(r=r+"/"+e+"/1",o=t):r=r+"/"+e+"/"+t:r=r+"/"+e+"/1",$.ajax($.extend(!0,{type:"PUT",url:r,data:{},dataType:"json"},o||{}))},this.Dispatch={},this.Dispatch.ShoppingCart=new function(){var a={},e=["show","add","remove","increment","decrement","empty","reset"];for(var t in e){var n=e[t];this[n]=Function("handler","this.addHandler('"+n+"', handler);")}this.addHandler=function(e,t){a[e]=a[e]||[],a[e].push(t)},this.trigger=function(e){if(a[e])for(var t in a[e])a[e][t].apply(this,Array.prototype.slice.call(arguments,1))}}};!function($,e){window.frautoComplete=function(e){var i,r,t,a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=a.hiddenField,o=void 0===n?e:n,s=a.limit,l=void 0===s?5:s,d=a.validate,c=void 0===d?!e.getAttribute("data-allowfreeinput"):d,u=a.highlight,f=void 0===u||u,p=a.modelString,m=void 0===p?e.getAttribute("data-model-string")||"{sku}":p,h=a.list,g={targetField:e,hiddenField:o,list:void 0===h?[]:h,isScrolling:!1};function v(e){var a,t=void 0,n=void 0;return"string"==typeof e?n=t=e:(a=e,["product_id","product_sku","product_name","sku"].reduce(function(e,t){return e||a.hasOwnProperty(t)},!1)?(t=function(e,r){if(!e||"string"!=typeof e)return null;var t=/\{([^\}]*)\}/g,a=t.test(e)&&e.match(t);return!1!==a&&a.reduce(function(e,t){var a=new RegExp(t),n=t.replace(/\{|\}/g,""),i=r[n];return e.replace(a,i)},e)}(m,{name:e.product_name||e.label||e.name,sku:e.product_sku||e.sku,id:e.product_id||e.id}),n=e.product_id||e.id):e.hasOwnProperty("label")&&(t=e.label,n=e.value||t)),{label:t,value:n}}function y(a){return g.list.filter(function(e){var t=v(e);return function(e,t){if(!e||!t)return!1;var a=/[\'\"\-\[\]\/\{\}\(\)\*\+\?\!\.\,\\\^\$\|\ ]/g,n=e.replace(a,"").toUpperCase(),i=t.replace(a,"").toUpperCase();return new RegExp(n,"i").test(i)}(a,t.label)}).reduce(function(e,t,a){return l<=a||e.push(v(t)),e},[])}function _(t){return!(!t||"string"!=typeof t)&&(-1<g.list.indexOf(t)||g.list.some(function(e){return t===v(e).label}))}function b(e){var t,a,n,i,r,o,s,l=e.label,d=e.value,c=$.createElement("li"),u=f?(t=l,a=g.targetField.value,n=t.toLowerCase(),i=a.toLowerCase(),r=new RegExp(a,"i"),o=n.indexOf(i),s="<strong>"+t.substr(o,a.length)+"</strong>",t.replace(r,s)):l;return c.innerHTML=u,c.setAttribute("data-value",d),c}function x(e){var t=g.targetField.parentNode.querySelector(".frauto-list"),a=t?t.style.display:null;null!==t&&(t.style.display="boolean"==typeof e?!0===e?"block":"none":"none"===a?"block":"none")}function k(e){var t=g.targetField.parentNode.querySelector(".frauto-list"),a=t.children.length,n=void 0;for(g.targetField.value=e.textContent,g.hiddenField.value=e.getAttribute("data-value"),n=a-1;0<=n;n--)t.children[n].classList.remove("selected");e.classList.add("selected")}function C(e){var t=g.targetField.value,a=y(t),n=g.targetField.parentNode.querySelector(".frauto-list"),i=function(e){var t=$.createElement("ul");t.classList.add("frauto-list"),e.map(b).map(function(e){t.appendChild(e)});var a=null;return t.addEventListener("scroll",function(e){g.isScrolling=!0,null!==a&&clearTimeout(a),a=setTimeout(function(){g.isScrolling=!1},250)}),t.firstElementChild&&t.firstElementChild.classList.add("selected"),t}(a);n&&n.parentNode.removeChild(n),g.targetField.parentNode.appendChild(i),x(!1),(e||t.length)&&x(!0)}function w(e){var t=g.targetField.parentNode.querySelector(".frauto-list"),a=t.querySelector(".selected"),n=a.previousSibling,i=a.nextSibling,r=t.firstElementChild,o=t.lastElementChild,s=a;x(!0),"previous"===e?s=n||o:"next"===e&&(s=i||r),s.scrollIntoView(),k(s)}return i=g.targetField.parentNode,r=null,t=function(e){if(g.isScrolling)return!1;e.target.parentNode.classList.contains("frauto-list")&&"LI"===e.target.nodeName&&(e.preventDefault(),g.targetField.focus(),k(e.target),x(!1))},i.addEventListener("mousedown",t),i.addEventListener("touchend",t),g.targetField.addEventListener("keypress",function(e){var t=i.querySelector(".frauto-list > .selected");13===e.keyCode&&(e.preventDefault(),k(t),x(!1)),8===e.keyCode&&C(!0)}),g.targetField.addEventListener("input",function(e){var t=e.keyCode;return 27===t?x(!1):40===t?w("next"):38===t?w("previous"):void C(!0)}),i.addEventListener("mousedown",function(e){"UL"===e.target.nodeName&&(r=e.target.children.length?e.target:null)}),i.addEventListener("mouseup",function(e){r&&"UL"===e.target.nodeName&&(r=null,e.preventDefault())}),g.targetField.addEventListener("blur",function(e){var t=i.querySelectorAll("li"),a=i.querySelectorAll("li:hover, li.selected"),n=g.hiddenField.getAttribute("data-default");if(r&&"UL"===r.nodeName)return r=null,g.targetField.focus(),!0;1===t.length&&k(t[0]),g.targetField.value&&1===a.length&&k(a[0]),c?_(g.targetField.value)||(g.targetField.value="",g.hiddenField.value=""):n&&!_(g.targetField.value)&&(g.hiddenField.value=n),x(!1)}),g.targetField.addEventListener("change",function(e){C(),e.target.blur()}),i.addEventListener("hover",function(e){"LI"===e.target.nodeName&&(i.querySelector(".selected").classList.remove("selected"),e.target.classList.add("selected"))}),{updateList:function(e){if(!Array.isArray(e))throw new Error("updateList must be called with an array. Called with: "+e);g.list=e,C()}}}}(document);
/*
 * Mailcheck https://github.com/mailcheck/mailcheck
 * Author
 * Derrick Ko (@derrickko)
 *
 * Released under the MIT License.
 *
 * v 1.1.0
 */
var Mailcheck={domainThreshold:2,secondLevelThreshold:2,topLevelThreshold:2,defaultDomains:["msn.com","bellsouth.net","telus.net","comcast.net","optusnet.com.au","earthlink.net","qq.com","sky.com","icloud.com","mac.com","sympatico.ca","googlemail.com","att.net","xtra.co.nz","web.de","cox.net","gmail.com","ymail.com","aim.com","rogers.com","verizon.net","rocketmail.com","google.com","optonline.net","sbcglobal.net","aol.com","me.com","btinternet.com","charter.net","shaw.ca"],defaultSecondLevelDomains:["yahoo","hotmail","mail","live","outlook","gmx"],defaultTopLevelDomains:["com","com.au","com.tw","ca","co.nz","co.uk","de","fr","it","ru","net","org","edu","gov","jp","nl","kr","se","eu","ie","co.il","us","at","be","dk","hk","es","gr","ch","no","cz","in","net","net.au","info","biz","mil","co.jp","sg","hu"],run:function(e){e.domains=e.domains||Mailcheck.defaultDomains,e.secondLevelDomains=e.secondLevelDomains||Mailcheck.defaultSecondLevelDomains,e.topLevelDomains=e.topLevelDomains||Mailcheck.defaultTopLevelDomains,e.distanceFunction=e.distanceFunction||Mailcheck.sift3Distance;var t=function(e){return e},a=e.suggested||t,n=e.empty||t,i=Mailcheck.suggest(Mailcheck.encodeEmail(e.email),e.domains,e.secondLevelDomains,e.topLevelDomains,e.distanceFunction);return i?a(i):n()},suggest:function(e,t,a,n,i){e=e.toLowerCase();var r=this.splitEmail(e);if(l=this.findClosestDomain(r.domain,t,i,this.domainThreshold))return l!=r.domain&&{address:r.address,domain:l,full:r.address+"@"+l};var o=this.findClosestDomain(r.secondLevelDomain,a,i,this.secondLevelThreshold),s=this.findClosestDomain(r.topLevelDomain,n,i,this.topLevelThreshold);if(r.domain){var l=r.domain,d=!1;if(o&&o!=r.secondLevelDomain&&(l=l.replace(r.secondLevelDomain,o),d=!0),s&&s!=r.topLevelDomain&&(l=l.replace(r.topLevelDomain,s),d=!0),1==d)return{address:r.address,domain:l,full:r.address+"@"+l}}return!1},findClosestDomain:function(e,t,a,n){var i;n=n||this.topLevelThreshold;var r=99,o=null;if(!e||!t)return!1;a||(a=this.sift3Distance);for(var s=0;s<t.length;s++){if(e===t[s])return e;(i=a(e,t[s]))<r&&(r=i,o=t[s])}return r<=n&&null!==o&&o},sift3Distance:function(e,t){if(null==e||0===e.length)return null==t||0===t.length?0:t.length;if(null==t||0===t.length)return e.length;for(var a=0,n=0,i=0,r=0;a+n<e.length&&a+i<t.length;){if(e.charAt(a+n)==t.charAt(a+i))r++;else for(var o=i=n=0;o<5;o++){if(a+o<e.length&&e.charAt(a+o)==t.charAt(a)){n=o;break}if(a+o<t.length&&e.charAt(a)==t.charAt(a+o)){i=o;break}}a++}return(e.length+t.length)/2-r},splitEmail:function(e){var t=e.trim().split("@");if(t.length<2)return!1;for(var a=0;a<t.length;a++)if(""===t[a])return!1;var n=t.pop(),i=n.split("."),r="",o="";if(0==i.length)return!1;if(1==i.length)o=i[0];else{r=i[0];for(a=1;a<i.length;a++)o+=i[a]+".";o=o.substring(0,o.length-1)}return{topLevelDomain:o,secondLevelDomain:r,domain:n,address:t.join("@")}},encodeEmail:function(e){var t=encodeURI(e);return t=t.replace("%20"," ").replace("%25","%").replace("%5E","^").replace("%60","`").replace("%7B","{").replace("%7C","|").replace("%7D","}")}};"undefined"!=typeof module&&module.exports&&(module.exports=Mailcheck),"function"==typeof define&&define.amd&&define("mailcheck",[],function(){return Mailcheck}),"undefined"!=typeof window&&window.jQuery&&(jQuery.fn.mailcheck=function(e){var t=this;if(e.suggested){var a=e.suggested;e.suggested=function(e){a(t,e)}}if(e.empty){var n=e.empty;e.empty=function(){n.call(null,t)}}e.email=this.val(),Mailcheck.run(e)})
/*
    jQuery Masked Input Plugin
    Copyright (c) 2007 - 2015 Josh Bush (digitalbush.com)
    Licensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license)
    Version: 1.4.1
*/,function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(w){var n,e=navigator.userAgent,$=/iphone/i.test(e),i=/chrome/i.test(e),j=/android/i.test(e);w.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},w.fn.extend({caret:function(e,t){var a;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((a=this.createTextRange()).collapse(!0),a.moveEnd("character",t),a.moveStart("character",e),a.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),e=0-a.duplicate().moveStart("character",-1e5),t=e+a.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,v){var a,y,_,b,x,k,C;if(!t&&0<this.length){var e=w(this[0]).data(w.mask.dataName);return e?e():void 0}return v=w.extend({autoclear:w.mask.autoclear,placeholder:w.mask.placeholder,completed:null},v),a=w.mask.definitions,y=[],_=k=t.length,b=null,w.each(t.split(""),function(e,t){"?"==t?(k--,_=e):a[t]?(y.push(new RegExp(a[t])),null===b&&(b=y.length-1),e<_&&(x=y.length-1)):y.push(null)}),this.trigger("unmask").each(function(){function o(){if(v.completed){for(var e=b;e<=x;e++)if(y[e]&&m[e]===s(e))return;v.completed.call(p)}}function s(e){return v.placeholder.charAt(e<v.placeholder.length?e:0)}function l(e){for(;++e<k&&!y[e];);return e}function d(e,t){var a,n;if(!(e<0)){for(a=e,n=l(t);a<k;a++)if(y[a]){if(!(n<k&&y[a].test(m[n])))break;m[a]=m[n],m[n]=s(n),n=l(n)}u(),p.caret(Math.max(b,e))}}function r(){f(),p.val()!=g&&p.change()}function c(e,t){var a;for(a=e;a<t&&a<k;a++)y[a]&&(m[a]=s(a))}function u(){p.val(m.join(""))}function f(e){var t,a,n,i=p.val(),r=-1;for(n=t=0;t<k;t++)if(y[t]){for(m[t]=s(t);n++<i.length;)if(a=i.charAt(n-1),y[t].test(a)){m[t]=a,r=t;break}if(n>i.length){c(t+1,k);break}}else m[t]===i.charAt(n)&&n++,t<_&&(r=t);return e?u():r+1<_?v.autoclear||m.join("")===h?(p.val()&&p.val(""),c(0,k)):u():(u(),p.val(p.val().substring(0,r+1))),_?t:b}var p=w(this),m=w.map(t.split(""),function(e,t){return"?"!=e?a[e]?s(t):e:void 0}),h=m.join(""),g=p.val();p.data(w.mask.dataName,function(){return w.map(m,function(e,t){return y[t]&&e!=s(t)?e:null}).join("")}),p.one("unmask",function(){p.off(".mask").removeData(w.mask.dataName)}).on("focus.mask",function(){var e;p.prop("readonly")||(clearTimeout(n),g=p.val(),e=f(),n=setTimeout(function(){p.get(0)===document.activeElement&&(u(),e==t.replace("?","").length?p.caret(0,e):p.caret(e))},10))}).on("blur.mask",r).on("keydown.mask",function(e){if(!p.prop("readonly")){var t,a,n,i=e.which||e.keyCode;C=p.val(),8===i||46===i||$&&127===i?(a=(t=p.caret()).begin,(n=t.end)-a==0&&(a=46!==i?function(e){for(;0<=--e&&!y[e];);return e}(a):n=l(a-1),n=46===i?l(n):n),c(a,n),d(a,n-1),e.preventDefault()):13===i?r.call(this,e):27===i&&(p.val(g),p.caret(0,f()),e.preventDefault())}}).on("keypress.mask",function(e){if(!p.prop("readonly")){var t,a,n,i=e.which||e.keyCode,r=p.caret();e.ctrlKey||e.altKey||e.metaKey||i<32||!i||13===i||(r.end-r.begin!=0&&(c(r.begin,r.end),d(r.begin,r.end-1)),(t=l(r.begin-1))<k&&(a=String.fromCharCode(i),y[t].test(a))&&(function(e){var t,a,n,i;for(a=s(t=e);t<k;t++)if(y[t]){if(n=l(t),i=m[t],m[t]=a,!(n<k&&y[n].test(i)))break;a=i}}(t),m[t]=a,u(),n=l(t),j?setTimeout(function(){w.proxy(w.fn.caret,p,n)()},0):p.caret(n),r.begin<=x&&o()),e.preventDefault())}}).on("input.mask paste.mask",function(){p.prop("readonly")||setTimeout(function(){var e=f(!0);p.caret(e),o()},0)}),i&&j&&p.off("input.mask").on("input.mask",function(){var e=p.val(),t=p.caret();if(C&&C.length&&C.length>e.length){for(f(!0);0<t.begin&&!y[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<b&&!y[t.begin];)t.begin++;p.caret(t.begin,t.begin)}else{for(f(!0);t.begin<k&&!y[t.begin];)t.begin++;p.caret(t.begin,t.begin)}o()}),f()})}})});
// released under Apache 2.0 license
var NameParse=function(){function e(){return e}return e.parse=function(e){var t,a="",n="",i="",r=(i="",null),o=0,s=0,l=(t=(e=e.trim()).split(" ").filter(function(e){return-1===e.indexOf("(")})).length,d=this.is_salutation(t[0]),c=this.is_suffix(t[l-1]),u=d?1:0,f=c?l-1:l;for(r=t[u],this.is_initial(r)?this.is_initial(t[u+1])?a+=" "+r.toUpperCase():i+=" "+r.toUpperCase():a+=" "+this.fix_case(r),s=u+1;s<f-1&&(r=t[s],!this.is_compound_lastName(r));s++)this.is_initial(r)?i+=" "+r.toUpperCase():a+=" "+this.fix_case(r);if(1<f-u)for(o=s;o<f;o++)n+=" "+this.fix_case(t[o]);return{salutation:d||"",firstName:a.trim(),initials:i.trim(),lastName:n.trim(),suffix:c||""}},e.removeIgnoredChars=function(e){return e.replace(".","")},e.is_salutation=function(e){switch(e=this.removeIgnoredChars(e).toLowerCase()){case"mr":case"master":case"mister":return"Mr.";case"mrs":return"Mrs.";case"miss":case"ms":return"Ms.";case"dr":return"Dr.";case"rev":return"Rev.";case"fr":return"Fr.";default:return!1}},e.is_suffix=function(e){e=this.removeIgnoredChars(e).toLowerCase();var t=["I","II","III","IV","V","Senior","Junior","Jr","Sr","PhD","APR","RPh","PE","MD","MA","DMD","CME","BVM","CFRE","CLU","CPA","CSC","CSJ","DC","DD","DDS","DO","DVM","EdD","Esq","JD","LLD","OD","OSB","PC","Ret","RGS","RN","RNC","SHCJ","SJ","SNJM","SSMO","USA","USAF","USAFR","USAR","USCG","USMC","USMCR","USN","USNR"],a=t.map(function(e){return e.toLowerCase()}).indexOf(e);return 0<=a&&t[a]},e.is_compound_lastName=function(e){e=e.toLowerCase();return 0<=["vere","von","van","de","del","della","di","da","pietro","vanden","du","st.","st","la","lo","ter"].indexOf(e)},e.is_initial=function(e){return 1===(e=this.removeIgnoredChars(e)).length},e.is_camel_case=function(e){return/[A-Z]+/.exec(e)&&/[a-z]+/.exec(e)},e.fix_case=function(e){return e=this.safe_ucfirst("-",e),e=this.safe_ucfirst(".",e)},e.safe_ucfirst=function(e,t){return t.split(e).map(function(e){return this.is_camel_case(e)?e:e.substr(0,1).toUpperCase()+e.substr(1).toLowerCase()},this).join(e)},e}(),BaseCoat=function(i,c,v){var o,s,l,a,n,d,u,f,p,r,m,t,h,e=v(i),y=(o=function(){var n,e=(n="test_country",c.location.search.substring(1).split("&").reduce(function(e,t){var a=t.split("=");return a[0]===n?a[1]:e},void 0));return(-1<c.location.href.indexOf("staging")||-1<c.location.href.indexOf("localhost"))&&e?e:v.IPInfo&&v.IPInfo.country_code?v.IPInfo.country_code:"US"},s=function(e){var t=v.currentLocale||"en";if("string"!=typeof e)return t;var a=t.match(/([a-z]{2})\-?([a-z]{0,2})/i);return a&&a[0]===t&&a.shift(),"language"===e?a[0]:"country"===e?a[1]||null:t},l=function(e){var t=s("language");return["fr","es","en"].indexOf(t)<0&&(t="en"),{close:{en:"Close",fr:"Fermer",es:"Cerrar"},yesNo:{en:["Yes","No"],fr:["Oui","Non"],es:["Sí","No"]},invalidDate:{en:"Invalid date",fr:"Date invalide",es:"Fecha invalida"},futureDate:{en:"Can't select a future date",fr:"Vous ne pouvez pas sélectionner une date ultérieure",es:"No se puede seleccionar una fecha futura"},didYouMean:{en:"Did you mean",fr:"Vouliez-vous dire",es:"¿Quiso decir"},intState:{en:"International State",fr:"État international",es:"Estado Internacional"},postalCode:{en:"Postal Code",fr:"Code Postal",es:"Código Postal"},postalValidation:{en:"Please enter a valid postal code.",fr:"Saiser un code postal valide s'il vous plaît.",es:"Por favor, introduzca un código postal válido."},fullName:{en:"Please enter your full name.",fr:"S'il vous plait entrez votre nom entier.",es:"Por favor ingresa tu nombre completo."}}[e][t]},e.ready(function(){var e,t,a,n=(s("country")||o()).toUpperCase(),i=v("#state"),r=v("#zip");"CA"===n&&(i.length||r.length)&&(e={state:v("#state"),zip:v("#zip")},t=e.state.length?e.state.rules():{},a=e.zip.length?e.zip.rules():{},"hidden"!==e.state.attr("type")&&(e.state.removeClass("autocomplete-state").addClass("autocomplete-province").parents("label").find(".label-text").text("Province"),t.required&&e.state.siblings(".label-text").append(" *")),"hidden"!==e.zip.attr("type")&&(e.zip=e.zip.clone(),e.zip.attr("type","text"),v.validator.addMethod("canadaZip",function(e,t){return this.optional(t)||/^([ABCEGHJKLMNPRSTVWXYZ]\s*\d\s*){3}$/i.test(e)},l("postalValidation")),v("#zip").replaceWith(e.zip),e.zip=v("#zip"),e.zip.rules("add","canadaZip"),e.zip.rules("remove","regex"),e.zip.parents("label").find(".label-text").text(l("postalCode")),a.required&&e.zip.siblings(".label-text").append(" *")))}),{getCountry:o,getLocale:s,translate:l}),g=(a=function(i){var e={enableHighAccuracy:!0,timeout:1/0,maximumAge:3e5};navigator.geolocation.getCurrentPosition(function(e){var t=e.coords.latitude,a=e.coords.longitude,n=new google.maps.LatLng(t,a);i&&i(n)},function e(t){console.warn("ERROR "+t.code+": "+t.message,e)},e)},n=function(e,i){var t=new google.maps.Geocoder,a={latLng:e},r="street_address",o=v(".geo-trigger"),n=o.attr("data-allowed-countries"),s=n?n.split(","):[];"string"==typeof e&&(a={address:e},r="postal_code"),t.geocode(a,function(e){var t=e.filter(function(e){return-1<e.types.indexOf(r)}),a=t[0],n={};return 1<t.length&&(a=(t=t.filter(function(e){console.log("glc",e)}))[0]),!(!a||a.address_components.length<1)&&(a.address_components.forEach(function(e){var t=e.types;-1<t.indexOf("postal_code")&&(n.zip=e.short_name),-1<t.indexOf("locality")&&(n.city=e.long_name),-1<t.indexOf("administrative_area_level_1")&&(n.state=e.long_name),-1<t.indexOf("country")&&(n.country=e.long_name),!n.city&&-1<t.indexOf("sublocality")&&(n.city=e.long_name)}),n.state||"Guam"!==n.country&&"Puerto Rico"!==n.country||(n.state=n.country,n.country="United States"),"USA"===n.country&&(n.country="United States"),o.parents("label").find(".country-disallowed").remove(),s.length&&-1===s.indexOf(n.country)?(o.siblings("input").after('<label class="invalid country-disallowed" generated="true" for="'+o.attr("id")+'">Country '+n.country+" is not allowed.</label>"),void(1<o.parents("label").find(".country-disallowed").length&&o.parents("label").find(".country-disallowed").first().remove())):void(i?i(n):d(n)))})},d=function(e){var t=e.city,a=e.state,n=e.zip,i=e.country;t&&t!==v("#city").val()&&v("#city").val(t).change(),a&&a!==v("#state").val()&&v("#state").val(a).change(),n&&n!==v("#zip").val()&&v("#zip").val(n).change(),i&&v("#country").val(i)},e.ready(function(){var e=v(".geo-trigger"),t=v(".reverse-zip");e.off("click").on("click",function(){a(n)}),t.parents("label").on("blur",".reverse-zip",function(){var e=v(this).val();n(e)})}),{latlng:a,lookup:n}),_=(u=function(e){var t=e.callback||function(e){return e},a=e.category,n=e.family,i=e.brandname,r=e.limit||25,o=e.beginsWith||!1?"begins_with":"contains",s=e.search||"",l=e.fields||!1,d={limit:r},c="?";a&&(d.product_category_name=a),n&&(d.product_family_name=n),s&&(d[o]=s),l&&(d.fields=l),i&&(d.brand_name=i),d.fields=d.fields||[],d.fields.push("active"),d.fields.push("allow_registration"),c+=v.param(d),v.ajax({type:"GET",url:"/services/products"+c,success:t,error:function(e){console.log(e.responseText,e)}})},f=function(e){var t=e||function(e){return e};v.ajax({type:"GET",url:"/services/organizations_autocomplete.json",success:t,error:function(e){console.log(e.responseText,e)}})},p=function(e){switch(e){case"state":return{limit:5,list:["Alabama","Alaska","American Samoa","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","District of Columbia","Federated States of Micronesia","Florida","Georgia","Guam","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Northern Mariana Islands","Ohio","Oklahoma","Oregon","Palau","Pennsylvania","Puerto Rico","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming","Virgin Islands","Armed Forces Americas","Armed Forces Europe","Armed Forces Pacific"]};case"province":return{limit:5,list:["Alberta","British Columbia","Manitoba","New Brunswick","Newfoundland and Labrador","Northwest Territories","Nova Scotia","Nunavut","Ontario","Prince Edward Island","Quebec","Saskatchewan","Yukon"]};case"product":return{hiddenField:v("#product")[0],limit:1/0};default:return!1}},e.ready(function(){"localhost"===c.location.hostname&&v("form").validate();var a,n,i,r,o,e=v(".autocomplete-state"),t=v(".autocomplete-province"),s=v(".autocomplete-product"),l=v(".autocomplete-organizations"),d={};e.length&&frautoComplete(e[0],p("state")),t.length&&frautoComplete(t[0],p("province")),s.length&&(a=frautoComplete(s[0],p("product")),s.attr("data-productcategory")&&(d.category=s.attr("data-productcategory")),s.attr("data-productfamily")&&(d.family=s.attr("data-productfamily")),s.attr("data-brandname")&&(d.brandname=s.attr("data-brandname")),"true"===s.attr("data-beginswith")&&(d.beginsWith=!0),s.attr("data-fields")&&(d.fields=JSON.parse(s.attr("data-fields"))),d.callback=function(e){var t=e.filter(function(e){return e.active&&e.allow_registration});a.updateList(t)},s.on("input",(n=function(){d.search=v(this).val(),u(d)},i=50,function(){var e=this,t=arguments,a=r&&!o;clearTimeout(o),o=setTimeout(function(){o=null,r||n.apply(e,t)},i),a&&n.apply(e,t)}))),l.length&&f(function(e){frautoComplete(l[0],{limit:l.attr("data-limit")||5,list:e})})}),v.fn.frautoComplete=function(e,t){return void 0===t&&(t={}),frautoComplete(this[0],{list:e||[],limit:t.listLimit||t.limit,validate:t.validate})},{getProducts:u,getOrganizations:f,getStates:p("state"),getProvinces:p("province")}),b=(function(){delete v.mask.definitions[9],v.mask.definitions["#"]="[0-9]",v.mask.definitions.m="[0-1]",v.mask.definitions.d="[0-3]",v.mask.definitions.y="[1-2]",v.mask.definitions.Y="[09]";var p,m=function(e){var t=e.which,a=v(e.target).val();(46!==t&&8!==t&&(t<48||57<t)||46===t&&-1<a.indexOf("."))&&e.preventDefault()},h=function(e){return e?{placeholder:"mm/yyyy",mask:"m#/yY##"}:{placeholder:"mm/yy",mask:"m#/##"}},g={format:function(){var e=y.getCountry(),t={mdy:["CA","BZ","FM","PH","US"],ymd:["IR","SI","ZA","SE","AF","CN","HU","JP","KR","KP","LT","MN","TW"]},a=-1<t.mdy.indexOf(e),n=-1<t.ymd.indexOf(e),i={completed:function(e,t){e.attr("data-format",t)}};return a&&(i.placeholder="mm/dd/yyyy",i.mask="m#/d#/yY##",i.format="mdy"),n&&(i.placeholder="yyyy/mm/dd",i.mask="yY##/m#/d#",i.format="ymd"),i.format||("fr-ca"==v.currentLocale?i.placeholder="jj/mm/aaaa":i.placeholder="dd/mm/yyyy",i.mask="d#/m#/yY##",i.format="dmy"),i},normalize:p=function(e){var t=e.split("/"),a=t[0],n=t[1];return t[2]+"/"+n+"/"+a},validate:function(e){var t=e.val(),a=e.parent("label").find('[type="hidden"]');if(""===t)return a.length&&(e.addClass("registria_field"),a.remove()),!0;var n,i=e.attr("name"),r="dmy"===e.attr("data-format")?p(t):t,o=new Date,s=new Date(r),l=s.getFullYear(),d=s.getMonth()+1,c=s.getDate(),u=!0,f=!1;return e.attr("data-allowfuturedates")&&(f=!0),!f&&o<s&&(u=!1),"Invalid Date"===s&&(u=!1),u?(c<10&&(c="0"+c),d<10&&(d="0"+d),n=l+"-"+d+"-"+c,a.length<1?e.removeClass("registria_field").after('<input class="registria_field valid" type="hidden" name="'+i+'" value="'+n+'">'):a.val(n)):(e.addClass("registria_field"),a.remove()),u}};e.ready(function(){var e,t,a,n,i,r,o,s,l,d=v(".mask-numerical"),c=v(".mask-phone"),u=v(".mask-mmyy"),f=v(".mask-date");d.length&&d.on("keypress",m),c.length&&(a=function(e,t){e?c.mask(e).val(t).blur():c.mask("+1##########")},n=c.val(),r=n.replace("+",""),o={1:"+1##########",52:"+52#########?#",44:"+44#######?###",61:"+61#########?#",81:"+81#########?#",91:"+91##########"},l=(s={US:1,UM:1,CA:1,GB:44,MX:52,AU:61,JP:81,IN:91})[y.getCountry()],n&&n.length&&(l=s[l=Object.keys(o).filter(function(e){return 0===r.indexOf(e)})]),i=o[l],a&&a(i,n)),u&&(t=u.attr("data-fullyear")?h(!0):h(),u.mask(t.mask,{placeholder:t.placeholder})),f.length&&(e=g.format(),f.mask(e.mask,{placeholder:e.placeholder,completed:function(){f.attr("data-format",e.format)}}),f.on("blur",function(){g.validate(v(this))}),v.validator.addMethod("futureDate",function(e,t){var a,n=v(t),i=new Date;return"dmy"===n.attr("data-format")&&(e=g.normalize(e)),!!n.attr("data-allowfuturedates")||("Invalid Date"===(a=new Date(e))||(this.optional(t)||a<i))},y.translate("futureDate")),v.validator.addMethod("realDate",function(e,t){var a,n=v(t);switch(e){case"mm/dd/yyyy":case"dd/mm/yyyy":case"yyyy/mm/dd":case"":return!0}return"dmy"===n.attr("data-format")&&(e=g.normalize(e)),a=new Date(e),this.optional(t)||"Invalid Date"!==a},y.translate("invalidDate")),v.validator.addClassRules("mask-date",{realDate:!0,futureDate:!0}))})}(),r=[],m=function(e){var t=e.image,a=e.text,n=v('<div class="modal-overlay modal-close"><div class="modal-content"></div></div>'),i=n.find(".modal-content");return t&&i.prepend('<img src="'+t+'" class="modal-image">'),a&&i.append('<p class="modal-text">'+a+"</p>"),i.append('<button type="button" class="button-primary full-width modal-close">'+y.translate("close")+"</button>"),i.find(".modal-close").on("click",h),n},t=function(e){var t=v(e.target),a=parseInt(t.attr("data-id"),10),n=m(r[a]);e.preventDefault(),v(".modal-overlay").length||v("body").append(n),v(i).on("keyup",h)},h=function e(t){var a=v(t.target),n=v(".modal-overlay");if("keyup"===t.type){if(27!==t.which)return!1;a=n}if(!a.hasClass("modal-overlay")&&!a.is("button"))return!1;n.remove(),v(i).off("keyup",e)},e.ready(function(){var e=v(".modal-trigger");e.length&&(e.each(function(e){var t,a=v(this);a.attr("data-id",e),r.push({image:(t={image:a.attr("data-image"),text:a.attr("data-text"),buttonType:a.attr("buttonType")}).image||!1,text:t.text||"...",buttonType:t.buttonType||"close"})}),e.on("click",t))}),{trigger:function(e){var t=m(e);v(".modal-overlay").length||v("body").append(t),v("body").on("click",".modal-close",h),v(i).on("keyup",h)}}),x=function(e){var t,a=v(e.target),n=a.val(),i=""!==n&&"0"!==n&&"1"!==n&&"on"!==n,r=a.attr("name"),o=v('<input type="hidden" name="'+r+'" class="real_checkbox registria_field" />'),s=a.is("[data-optout]");i||(a.siblings('[type="hidden"].real_checkbox').length<1&&(a.parents("label").append(o),a.removeClass("registria_field")),o=a.siblings('[type="hidden"].real_checkbox'),t=a.is(":checked")?s?"0":"1":s?"1":"0",o.val(t))};e.ready(function(){v('input[type="checkbox"]').each(function(){x({target:this})}),v('input[type="checkbox"]').on("change",x)}),function(){var l=".dropdown-toggle";function r(e){e.find(".current").toggleClass("open"),e.find(".options").slideToggle(250)}function t(e){var t=v(e.target),a=t.parents(l),n=a.data("target"),i=t.data("value");n&&"url"!==n?v(n).val(i).change():c.location=i,a.find(".current").text(t.text()),r(a),a.find(".options > li").show(),t.hide()}e.ready(function(){v(l).each(function(){var e=v(this).removeClass(l.replace(".","")),t=e.find("option"),a=t.filter("[selected]"),n=a.length?a:t.first(),i=e.data("target"),r=Array.prototype.slice.call(e[0].classList),o=e.attr("id"),s=v('<nav class="dropdown-toggle" />').data("target",i).append('<span class="current" />').append('<ul class="options" style="display:none" />');o&&s.attr("id",o),s.addClass(r.join(" ")),s.find(".current").text(a.text()),t.each(function(){var e=v(this),t=e.text(),a=e.val();s.find(".options").append('<li data-value="'+a+'">'+t+"</li>"),e[0]===n[0]&&(i&&"url"!==i&&v(i).val(a),s.find(".options > li:last-child").css("display","none"))}),e.replaceWith(s)});var e=v(l);e.on("click",".current",function(){r(v(this).parents(l))}),e.on("click",".options > li",t)})}();var k=function(){var e=v(this),t=e.parent("label").find(".file-label"),a=e.val().match(/[^\/\\]*$/)[0];t.is("[data-text]")||t.attr("data-text",t.text()),a||(a=t.attr("data-text")),t.text(a)};e.ready(function(){v("label.file-input").on("change",'input[type="file"]',k)});var C,w=(C="hidden-text",function(e){var t,a,n,i,r,o,s,l,d,c=v(e.target),u=(t={toggler:c,target:c.data("toggles")},{toggler:v(t.toggler),target:v(t.target)});u.target.length&&(i=(a=u).toggler.data("toggles"),r=v(a.target),o=v('[data-toggles="'+i+'"]'),s=o.filter('[data-toggle-show="true"]'),l=o.filter('[data-toggle-show="false"]'),d=!s.is(":checked")&&!l.is(":checked")||l.is(":checked"),1===o.length?r.toggleClass(C):r.toggleClass(C,d),r.hasClass(C)&&((n=r).find('[type="radio"], [type="checkbox"]').removeAttr("checked"),n.find("select > option").removeAttr("selected"),n.find(":input").not(':button, :submit, :reset, [type="radio"], [type="checkbox"]').val("")))});e.ready(function(){v("[data-toggles]").on("click change",w).each(function(){w({target:this})})});var $=function(n){var i=n.parent("label");n.mailcheck({suggested:function(e,t){var a;0===i.find(".update-email").length&&n.after((a=t,'<p class="small-text update-email">'+y.translate("didYouMean")+' <a href="#" class="email-link">'+a.full+"</a>?</p>")),i.on("click",".update-email",function(e){e&&e.preventDefault(),t&&t.full&&n.val(t.full),i.find(".update-email").remove()})},empty:function(){i.find(".update-email").remove()}})};e.ready(function(){v('input[type="email"]').on("blur",function(){$(v(this))})});e.ready(function(){v(".full-name").on("blur change",function(){var e=v(this);e.parents("label");!function(i){var d=function(e,t){var a=e.attr("name"),n=v('[name="'+a+'"]');if(!a)return!1;t&&e.val(t),n.length?n.val(t):t&&i.after(e),t||n.remove()},e=function(e,t){var a=t||"user",n={user:"user",shipping:"order[shipping_address_attributes]",billing:"order[biling_address_attributes]",case:"case"},i=v('<input type="hidden" class="registria_field">'),r=i.clone().attr("name",n[a]+"[title]"),o=i.clone().attr("name",n[a]+"[first_name]"),s=i.clone().attr("name",n[a]+"[middle_name]"),l=i.clone().attr("name",n[a]+"[last_name]");"user"===a&&d(r,e.salutation),"user"===a&&d(s,e.initials),d(o,e.firstName),d(l,e.lastName)},t=i.val(),a=i.data("target");if(1===t.length)return e({firstName:t.toUpperCase()},a);e(NameParse.parse(t),a)}(e)}),v.validator.addMethod("fullName",function(e,t){if(e.length<1)return!0;if(1===e.length)return!1;var a=0<NameParse.parse(e).lastName.length;return this.optional(t)||a},y.translate("fullName")),v.validator.addClassRules("full-name",{fullName:!0})}),e.ready(function(){c.location.search.substring(1).split("&").map(function(e){var t=e.split("=");return{key:t[0],value:decodeURIComponent(t[1])}}).forEach(function(e){var t;(t=e)&&v("#"+t.key).val(t.value)})});var j={multi:{init:function(e){var r=v('<ul class="multi-select" />');e.find("option").each(function(){var e=v(this),t=e.val(),a=e.text(),n=e.is(":selected"),i=v('<li class="multi-option" tabindex="0" />').clone();i.text(a).attr("data-value",t),n&&i.addClass("selected"),r.append(i)}),e.after(r)},event:function(e){var t=v(e.target),a=t.parents("label").find("select"),n=a.val()||[],i=t.data("value"),r=n.indexOf(i),o=a.data("max"),s=t.parents("label").find(".multi-option.selected").length,l=e.type,d=e.which;"keypress"===l&&32!==d||o&&o<=s&&!t.hasClass("selected")||(t.toggleClass("selected"),-1<r?n.splice(r,1):n.push(i),a.val(n))}}};return e.ready(function(){v("select[multiple]:not(.default)").each(function(){j.multi.init(v(this))}),v("label").on("click keypress",".multi-option",j.multi.event)}),{i18n:y,modal:b,geolocation:g,autocomplete:_}}(document,window,jQuery);window.addEventListener("DOMContentLoaded",function(){$(".nav-wrap").on("click",".nav-dropdown",function(){$(".language-select").slideToggle(10)}),$(".language-select .langauge").each(function(){var e=$(this).attr("href")+window.location.search;$(this).attr("href",e)}),$(".mobile-menu-wrap").on("click",".mobile-menu-dropdown",function(){$(".menu-select").slideToggle(10)}),$(".menu-select .menu").each(function(){var e=$(this).attr("href")+window.location.search;$(this).attr("href",e)})}),function(e,o,t){var s,l={street_number:["short_name","address1"],route:["long_name","address1"],locality:["long_name","city"],administrative_area_level_1:["long_name","state"],country:["long_name","country"],postal_code:["short_name","zip"]},a=function(){var e=s.getPlace();for(var t in e,l)o.getElementById(l[t][1]).value="";for(var a=0;a<e.address_components.length;a++){var n=e.address_components[a].types[0];if(l[n]){var i=e.address_components[a][l[n][0]],r=o.getElementById(l[n][1]);r&&r.value?r.value=r.value+" "+i:r.value=i}}};t(function(){t("#address1").on("keyup",function(){5<t(this).val().length?null==s&&((s=new google.maps.places.Autocomplete(o.getElementById("address1"),{types:["geocode"]})).setFields(["address_components"]),s.addListener("place_changed",a)):null!=s&&(t(".pac-container").remove(),google.maps.event.clearListeners(t(this)),s=void 0)})})}(window,document,window.jQuery),$(document).ready(function(){$('input[type="file"]').change(function(){var e=$('input[type="file"]').val().match(/[^\/\\]*$/)[0];$(".upload-text").html(e)})});
//# sourceMappingURL=quickstart.js.map